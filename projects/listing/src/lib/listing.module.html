<div class="container " id={{libdataval.containerid}}>


    <mat-card>

        <div class="searchiconcls" *ngIf="searchBarFlagVal == true">
            <span class="material-icons iconcls" matTooltip="{{searchBarToolTip}}"
                (click)="SearchBarToggle(searchBarFlag)">
                search
            </span>
        </div>



        <div class="togglesearchcls" *ngIf="searchBarFlag == true">

            <mat-toolbar-row class="searchbar listmaindivbody" *ngIf="rescount>0">


                <ng-container class="inputfilterForloop"
                    *ngIf="search_settingsval !=null && search_settingsval.textsearch != null ">
                    <ng-container *ngFor="let item of search_settingsval.textsearch">
                        <mat-form-field class="searchdiv pad-gap">

                            <input class="filterForText" matInput (change)="textsearchfunction(item.field,item)"
                                (keyup)="textsearchfunction(item.field,item)" [(ngModel)]='tsearch[item.field]'
                                placeholder="{{item.label}}">
                            <span class="filterForTexticon" matPrefix><i class="material-icons searchicon">
                                    search
                                </i> &nbsp;</span>
                        </mat-form-field>
                    </ng-container>
                </ng-container>

                <ng-container class="inputfilterForAuto"
                    *ngIf="search_settingsval !=null && search_settingsval.search != null ">
                    <mat-form-field class="filterForAuto searchdiv" *ngFor="let item of search_settingsval.search">


                        <mat-chip-list #chipList aria-label="Fruit selection">
                            <mat-chip *ngFor="let v of autosearch[item.field]; let i=index;" [selectable]="true"
                                [removable]="true" (removed)="remove(v,i,item.field)">
                                {{v.name}}
                                <mat-icon matChipRemove>cancel</mat-icon>
                            </mat-chip>
                            <input id="autocompletesearch{{item.field}}" placeholder="{{item.label}} "
                                [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                [(ngModel)]="autosearchinput[item.field]" (blur)="resetautocomp(item)"
                                (keyup)="autocompletechangedetected(item);" (click)="autocompletefunction(item)">
                        </mat-chip-list>

                        <!--[matChipInputSeparatorKeyCodes]="[ENTER, COMMA]"-->
                        <!--(matChipInputTokenEnd)="addautosearchdata($event)"-->


                        <!--<input class="filterForAutoInput"  type="text" placeholder="{{item.label}}" matInput [(ngModel)]="autosearch[item.field]" [matAutocomplete]="auto">-->
                        <mat-autocomplete #auto="matAutocomplete">
                            <!--<mat-option *ngFor="let option of item.values | async" [value]="option[item.field]" (click)="autosearchfunction(item.field)">
                                {{option[item.field]}}
                            </mat-option>-->

                            <mat-option *ngFor="let statusval of currentautosearcharr" [value]="statusval.val"
                                (click)="autosearchfunction(item.field,statusval,item)">
                                {{statusval.name}}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </ng-container>



                <!--      <span *ngIf="search_settingsval !=null && search_settingsval != null ">
    
          <mat-form-field *ngFor="let item of search_settingsval.search">
            <mat-label>{{item.label}}</mat-label>
            <mat-select>
              <mat-option *ngFor="let status of preresult" [value]="status" (click)="autosearchfunction(status.email)">
                {{status.email}}
              </mat-option>
            </mat-select>
          </mat-form-field>
    
          </span>-->
                <!--  <ng-container  *ngIf="search_settingsval !=null && search_settingsval.textsearch != null ">
    &lt;!&ndash;        <span *ngFor="let status of this.search_settingsval.textsearch">&ndash;&gt;
    &lt;!&ndash;        <mat-form-field *ngFor="let statusval of status.value">&ndash;&gt;
            <mat-form-field *ngFor="let status of this.search_settingsval.textsearch">
                  <input matInput (keyup)="applyFilter1($event.target.value, status)" placeholder="{{status.label}}">
            </mat-form-field>
    &lt;!&ndash;              </span>&ndash;&gt;
          </ng-container>-->


                <ng-container class="filterForTexticon"
                    *ngIf="search_settingsval !=null && search_settingsval.selectsearch != null ">

                    <mat-form-field class="searchdiv" *ngFor="let status of search_settingsval.selectsearch">
                        <mat-label>{{status.label}}</mat-label>
                        <!-- <mat-select [(ngModel)]="selectsearch[status.field]" [(value)]="selectsearch[status.field]"> -->
                        <!-- single select box -->
                        <ng-container *ngIf="status.multiple===undefined">
                            <mat-select [(ngModel)]="selectsearch[status.field]" [(value)]="status.value"
                                [(ngModel)]='tsearch[status.field]'>
                                <mat-option *ngFor="let statusval of status.values" [value]="statusval.val"
                                    (click)="selectSearch(statusval.val, status,statusval)">
                                    {{statusval.name}}
                                </mat-option>
                            </mat-select>
                        </ng-container>
                        <!-- multiple select box search -->
                        <ng-container *ngIf="status.multiple==true">
                            <mat-select multiple [(ngModel)]="selectsearch[status.field]" [(value)]="status.value"
                                [(ngModel)]='tsearch[status.field]'>
                                <mat-option *ngFor="let statusval of status.values" [value]="statusval.val"
                                    (click)="selectSearch(statusval.val, status,statusval)">
                                    {{statusval.name}}
                                </mat-option>
                            </mat-select>
                        </ng-container>

                    </mat-form-field>
                </ng-container>


                <ng-container *ngIf=" search_settingsval != null && search_settingsval.datesearch != null ">
                    <!-- <span>D search !!</span> -->
                    <ng-container class="filterFordatesearch" *ngFor="let status of this.search_settingsval.datesearch">

                        <mat-form-field class="filterFordatesearchformfield searchdiv">
                            <input readonly class="filterFordatesearchinput" matInput [matDatepicker]="picker"
                                autocomplete="off" placeholder="{{status.startdatelabel}}" [(ngModel)]="start_date"
                                (dateChange)="dateSearch(status.field,status)">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>

                        <!-- <mat-form-field>
                            <input matInput [matDatepicker]="picker1" placeholder="From Date" [(ngModel)]="startDate111">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker  #picker1></mat-datepicker>
                        </mat-form-field> -->

                        <mat-form-field class="filterFordatesearchend">
                            <input readonly class="filterFordatesearchinput" matInput [matDatepicker]="picker1"
                                autocomplete="off" placeholder="{{status.enddatelabel}}" [(ngModel)]="end_date"
                                (dateChange)="dateSearch(status.field,status)">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>

                        </mat-form-field>
                        datepicker{{end_date}}

                        <!-- <span class="search_class">
                            <button mat-raised-button color="primary" class="add_button"
                                (click)="dateSearch(status.field)">{{status.submit}}</button>
                        </span> -->
                    </ng-container>
                </ng-container>


                <!-- <br><br> <br><br> -->

                <div class="searchbtncls">
                    <!-- use for refresh all data -->
                    <span class="search_class">
                        <ng-container class="refresh">
                            <i (click)="refreshdata()" class="material-icons cursor" matTooltip="refresh"
                                matTooltipClass="refreshtooltipcls">
                                autorenew
                            </i>
                        </ng-container>
                        <!-- *ngIf="date_search_endpointval ==null || date_search_sourceval == null || search_settingsval.datesearch == null " -->
                        <ng-container class="refresh">
                            <button mat-raised-button color="primary" class="add_button" (click)="allSearch()"
                                matTooltip="search" matTooltipClass="searchtooltipcls">Search</button>
                        </ng-container>

                        <br>
                    </span>
                </div>


                <!--custom buttons -->
                <div class="CustomButtonListen_div">
                    <ng-container *ngIf="customButtonFlagVal?.flag == true  && customButtonFlagVal?.tooltipflag != true"
                        class="filterForTexticon">
                        <ng-container *ngFor="let bt of customButtonFlagVal.buttons;let i = index"
                            class="add_custom_button">
                            <button mat-raised-button color="primary" type="button" color="primary" class="add_button"
                                (click)="CustomButtonListen(bt)">
                                {{bt.label}}</button> &nbsp;
                        </ng-container>
                    </ng-container>

                    <ng-container *ngIf="customButtonFlagVal?.flag == true && customButtonFlagVal?.tooltipflag == true"
                        class="filterForTexticon">
                        <ng-container *ngFor="let bt of customButtonFlagVal.buttons;let i = index"
                            class="add_custom_button">
                            <button matTooltip="{{bt.tooltip}}" mat-raised-button color="primary" type="button"
                                color="primary" class="add_button" (click)="CustomButtonListen(bt)">
                                {{bt.label}}</button> &nbsp;
                        </ng-container>
                    </ng-container>
                </div>





                <!-- for button search  -->
                <div class="buttonsearch_div">
                    <ng-container class="filterForTexticon"
                        *ngIf=" search_settingsval != null && search_settingsval.buttonsearch != null ">
                        <ng-container *ngFor="let button of search_settingsval.buttonsearch;let i= index">

                            <button mat-raised-button color="primary" class="add_button search_btn_class{{i}}"
                                (click)="openBottomSheetForSearch(button,i)">{{button.label}}
                            </button>
                        </ng-container>
                    </ng-container>
                </div>

                <!-- *ngIf=" (search_settingsval.buttonsearch[bs.key].values != null && search_settingsval.buttonsearch[bs.key].values.length > 0) || buttonSearchData[i].value != null " -->


                <!-- buttonvSearch Data div -->
                <div class="buttonSearchDatacls_div">
                    <ng-container class="buttonSearchDatacls"
                        *ngIf="buttonSearchData != null && buttonSearchData.length >0">
                        <!-- <span>{{buttonSearchData | json}}</span> -->
                        <div *ngFor="let bs of buttonSearchData;let i =index">
                            <div *ngIf="bs.field == search_settingsval.buttonsearch[bs.key].field">

                                <h3 class="search_settingsval_bs_cls"
                                    *ngIf=" (search_settingsval.buttonsearch[bs.key].values != null && search_settingsval.buttonsearch[bs.key].values.length > 0) || (bs.field == search_settingsval.buttonsearch[bs.key].field && bs.value.length > 0)">
                                    {{search_settingsval.buttonsearch[bs.key].label}} :</h3>

                                <mat-chip-list class="example-chip" cdkDropList cdkDropListOrientation="horizontal">
                                    <mat-chip class="example-box" cdkDrag *ngFor="let item of bs.value;let j = index">
                                        {{item.name}}
                                        <mat-icon style="cursor: pointer;" matChipRemove
                                            (click)="clearButtonSearchChips(bs,i,item,j)">cancel</mat-icon>
                                    </mat-chip>
                                </mat-chip-list>
                            </div>
                        </div>
                    </ng-container>
                </div>
                <br />

                <span *ngIf="click_to_add_ananother_pageval !=null">
                    <button mat-raised-button color="primary" class="add_button"
                        [routerLink]="click_to_add_ananother_pageval">Add</button>
                </span>
            </mat-toolbar-row>
        </div>

        <div class="recordflagcls" *ngIf="recordFoundFlag == true && libdataval.recordfounddata != null">
            <div class="recorddatacls" [innerHTML]="libdataval?.recordfounddata"></div>
        </div>



        <ng-container
            *ngIf="selection.selected !=null && selection.selected.length!=null && selection.selected.length>0">
            <span class="multipledeleteandupdatebuttan">

                <button *ngIf="libdataval.hidedeletemany==null || libdataval.hidedeletemany==false" matTooltip="Delete"
                    mat-raised-button (click)="deletemultiple()"> Delete </button>
                <button *ngIf="libdataval.hideupdatemany==null || libdataval.hideupdatemany==false"
                    matTooltip="Update Status" mat-raised-button (click)="managestatusmultiple()"> Update Status
                </button>
                <ng-container
                    *ngIf="libdataval!=null && libdataval.customselectbuttons!=null && libdataval.customselectbuttons.length>0">
                    <!-- has hhh  -->
                    <ng-container *ngFor="let cbtns of libdataval.customselectbuttons">

                        <button class="customselbtn" matTooltip="{{cbtns?.tooltip}}" mat-raised-button
                            (click)="clickmultipleselectoption(cbtns)">
                            {{cbtns.label}} </button>
                    </ng-container>

                </ng-container>

            </span>
        </ng-container>






        <section *ngIf="loading == true" class="example-section">
            <mat-progress-bar class="example-margin" [color]="color" [mode]="mode" [value]="value"
                [bufferValue]="bufferValue">
            </mat-progress-bar>
            <br />
            <br />
        </section>


        <ng-container *ngIf="tableflag==0 && !paginationtypeFlag">
            <section class="lib-pager-class">
                <mat-label>
                    Showing {{((limitcondval.pagecount-1)*limitcondval.limit)+1}} To

                    <ng-container
                        *ngIf="date_search_source_countval > ((limitcondval.pagecount)*limitcondval.limit) || date_search_source_countval==0">
                        {{(limitcondval.pagecount)*limitcondval.limit}}
                    </ng-container>
                    <ng-container
                        *ngIf="date_search_source_countval!=0 && date_search_source_countval <= ((limitcondval.pagecount)*limitcondval.limit)">
                        {{date_search_source_countval}}
                    </ng-container>



                    of
                    <span *ngIf="date_search_source_countval!=0 "> {{date_search_source_countval}} </span>
                    <span *ngIf="date_search_source_countval==0 "> Many </span>

                </mat-label>
                <span class="pageformfield">
                    <mat-form-field>
                        <mat-label>Page Size</mat-label>
                        <input matInput [(ngModel)]="limitcondval.limit" type="number" min="1" max="100"
                            (ngModelChange)="onFieldChangeforlimit($event)">
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Page No</mat-label>
                        <input matInput min="1" [(ngModel)]="pageChangeValue" (ngModelChange)="onFieldChange($event)"
                            min="1" max="pageCountArray.length" type="number">
                    </mat-form-field>
                </span>
                <span>


                    <span class="material-icons cursor" (click)="paging(-1,'')">
                        skip_previous
                    </span>

                    <span class="material-icons cursor" (click)="paging(1,'')">
                        skip_next
                    </span>
                </span>

                <!-- for pagination in drop down format-->
                <div class="selectpaginationCls" *ngIf="libdataval.selectPagingflag">
                    <mat-label>Show Records per Page</mat-label>
                    <mat-select (selectionChange)="paging($event.value,'selectpaging')"
                        [(ngModel)]="limitcondval.limit">
                        <mat-option *ngFor="let no of pages" [value]="no.val">
                            {{no.name}}
                        </mat-option>
                    </mat-select>
                </div>

            </section>
        </ng-container>
        <!-- <div>{{rescount}} d lemgth </div> -->

        <div class="tablewrapper" *ngIf="tableflag==0">

            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

                <!-- <ng-container matColumnDef="select" *ngIf="tableflag==0">
                    <th mat-header-cell *matHeaderCellDef>
                        <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">
                        </mat-checkbox>
                    </th>
                    <td mat-cell *matCellDef="let row" data-label="select">
                        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
                        </mat-checkbox>
                    </td>
                </ng-container> -->
                <!-- <ng-container matColumnDef="#">
                    <th mat-header-cell *matHeaderCellDef>
                        #
                    </th>
                    <td mat-cell *matCellDef="let element; let i = index">{{limitcondval.skip+(i+1)}}</td>
                </ng-container> -->
                <!-- footer loop  -->
                <ng-container *ngFor="let footer of libdataval.footersettings">
                    <ng-container matColumnDef="{{footer.key}}">
                        <td mat-footer-cell *matFooterCellDef [attr.colspan]="footer.colspan">
                            <span [innerHtml]="footer.data"></span>
                        </td>
                    </ng-container>
                </ng-container>


                <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">
                    <ng-container *ngIf="column.columnDef== 'select' ">
                        <th mat-header-cell *matHeaderCellDef>
                            <mat-checkbox (change)="$event ? masterToggle() : null"
                                [checked]="selection.hasValue() && isAllSelected()"
                                [indeterminate]="selection.hasValue() && !isAllSelected()">
                            </mat-checkbox>
                        </th>
                    </ng-container>

                    <ng-container *ngIf="column.columnDef != 'select' ">
                        <th mat-header-cell *matHeaderCellDef class="th-header-center">
                            <span>

                                <span *ngIf="libdataval.header_tooltip_array == null">
                                    <span [innerHtml]="column.header"> </span>
                                    <span></span>
                                </span>

                                <span *ngIf="libdataval.header_tooltip_array != null">
                                    <span [innerHtml]="column.header" matTooltip="{{column?.tooltip}}"></span>
                                </span>

                                <!-- {{column.header}} -->
                                <span *ngIf="column.columnDef==sortdataval.field && sortdataval.type=='desc'"
                                    class="material-icons cursor float-right"
                                    (click)="sorttable(column.columnDef,'asc')">
                                    arrow_downward
                                </span>
                                <span class="material-icons cursor float-right"
                                    *ngIf="column.columnDef==sortdataval.field && sortdataval.type=='asc'"
                                    (click)="sorttable(column.columnDef,'desc')">arrow_upward
                                </span>

                                <span class="material-icons cursor"
                                    *ngIf="sortdataval!=null && sortdataval.options !=null && sortdataval.options.indexOf(column.columnDef) >-1  && column.columnDef!=sortdataval.field"
                                    (click)="sorttable(column.columnDef,'desc')">
                                    unfold_more
                                </span>
                            </span>
                        </th>
                    </ng-container>

                    <ng-container
                        *ngIf="column.columnDef!= '#' && column.columnDef!= 'Actions' && column.columnDef!= 'select'  ">
                        <td mat-cell *matCellDef="let row " [ngStyle]="styleCell(column,row) "
                            data-title="{{column.header.split('<br/>').join('')}}  " class="td-cell-center ">

                            <span *ngIf="column.columnDef=='status' ">{{ getstatus([column.cell(row)]) }}
                                {{pdfFlag(row)}}</span>
                            <span
                                *ngIf="column.columnDef!='status' && column.columnDef!='image' && column.columnDef!='video' ">

                                <ng-container
                                    *ngIf="column!=null && row[column.columnDef]!=null && !column.columnDef.includes( 'date') && !column.columnDef.includes( 'datetime') ">

                                    <!-- <span>=++++{{row[column.columnDef] |json}} = {{column.columnDef}}</span><br> -->

                                    <span
                                        [innerHTML]="row[column.columnDef] | CustomPipe: column.columnDef:row[column.columnDef]"></span>

                                </ng-container>

                                <ng-container *ngIf="column!=null && row[column.columnDef]!=null && column.columnDef.includes( 'date') && !column.columnDef.includes( 'datetime') && (row[column.columnDef] !=0 && row[column.columnDef] !='na' && row[column.columnDef]
                        !='NA' ) ">
                                    {{row[column.columnDef] | date}}
                                </ng-container>

                                <ng-container *ngIf="column!=null && row[column.columnDef]!=null && column.columnDef.includes( 'date') && !column.columnDef.includes( 'datetimeshort') &&  column.columnDef.includes( 'datetime') && (row[column.columnDef] !=0 && row[column.columnDef] !='na' && row[column.columnDef] !='NA'
                        ) ">
                                    {{row[column.columnDef] | date:'medium'}}
                                </ng-container>
                                <ng-container *ngIf="column!=null && row[column.columnDef]!=null && column.columnDef.includes( 'date') && !column.columnDef.includes( 'datetime')  && column.columnDef.includes( 'datetimeshort') && (row[column.columnDef] !=0 && row[column.columnDef] !='na' && row[column.columnDef] !='NA'
                        ) ">
                                    {{row[column.columnDef] | date:'short'}}
                                </ng-container>

                                <ng-container *ngIf="column!=null && row[column.columnDef]!=null && (column.columnDef.includes( 'date') || column.columnDef.includes( 'datetime') )&& (row[column.columnDef]==0 || row[column.columnDef]=='na' || row[column.columnDef]=='NA'
                        ) ">
                                    NA
                                </ng-container>
                                <ng-container *ngIf="column!=null && row[column.columnDef]==null ">
                                    NA
                                </ng-container>

                            </span>
                            <!-- for image view  -->
                            <span
                                *ngIf="column.columnDef=='image' && row[column.columnDef] !=null && row[column.columnDef] !='' "
                                (click)="img_modal_view(row[column.columnDef]) "> <span class="module_imgblock ">
                                    <img src="{{row[column.columnDef]}} " alt="{{row[column.columnDef]}} ">
                                </span></span>
                            <!-- for video view -->
                            <span
                                *ngIf="column.columnDef=='video' && row[column.columnDef] !=null && row[column.columnDef] !='' "><span
                                    class="module_videoblock " (click)="fetchvideo(row) ">
                                    <img class="videothumbnailcls"
                                        src='https://awsbackend-dev-patient-files-test.s3.amazonaws.com/icon-videoplay.png'>
                                    <img class="videovicls"
                                        src="https://img.youtube.com/vi/{{row[column.columnDef]}}/sddefault.jpg "
                                        alt="{{row[column.columnDef]}} " (click)="fetchvideo(row) "></span>
                            </span>

                            <span
                                *ngIf="column.columnDef=='grab_url && grab_linkval!=null && grab_linkval[0]!=null' ">{{grapurl(row[this.grab_linkval[0].field_name])}}</span>


                            <!--          <span *ngIf="sh==true ">-->
                            <span *ngIf="column.columnDef=='contractssigned' && sh==true && urlval !=null "
                                class="cursor ">
                                <i title="{{urlval[0].label}} " (click)="clickurl(row,urlval[0].url) "
                                    class="material-icons ">cloud_download</i>
                            </span>
                            <!--          </span>-->
                            <!--          <span *ngIf="aud==true ">-->
                            <span *ngIf="column.columnDef=='contractssigned' && aud==true && urlval !=null ">
                                <i title="{{urlval[1].label}} " (click)="clickurl(row,urlval[1].url) "
                                    class="material-icons ">cloud_download</i>
                            </span>

                            <!--// for grap url//-->

                            <span
                                *ngIf=" grab_linkval!=null && column.columnDef==[grab_linkval.colom_name[0].col_name] "
                                class="cursor ">
                                <ng-container *ngFor="let item of grab_linkval.field ">
                                    <!-- <p>{{item | json}}</p> -->
                                    <button mat-button
                                        (click)="copyText(row[grab_linkval.colom_name[0].field_name],item.url) ">{{item.label}}</button>
                                </ng-container>
                            </span>

                            <!-- <span
                            *ngIf=" grab_linkval!=null && grab_linkval[0]!=null && column.columnDef==[grab_linkval[0].col_name] "
                            class="cursor ">
                            <button mat-button
                                (click)="copyText(row[grab_linkval[0].field_name],grab_linkval[1].url) ">{{grab_linkval[1].label}}</button>
                        </span>
                        <span
                            *ngIf="grab_linkval!=null && grab_linkval[0]!=null &&column.columnDef==[ grab_linkval[0].col_name] ">
                            <button mat-button
                                (click)="copyText(row[grab_linkval[0].field_name],grab_linkval[2].url) ">{{grab_linkval[2].label}}</button>
                        </span> -->

                            <!--          //grap url end//-->


                            <!--          </span>-->
                            <!-- <span *ngIf="column.columnDef=='contractssigned' ">
            <span *ngFor="let item of urlval " class="cursor ">
            <i title="{{item.label}} " (click)="clickurl(row,item.url) " class="material-icons ">cloud_download</i>
          </span>
          </span>-->
                        </td>
                    </ng-container>
                    <ng-container *ngIf="column.columnDef== '#' ">
                        <td mat-cell *matCellDef="let element; let i=index ">{{limitcondval.skip+(i+1)}}
                        </td>

                    </ng-container>

                    <ng-container *ngIf="column.columnDef== 'select' ">
                        <td mat-cell *matCellDef="let row" data-label="select">
                            <mat-checkbox (click)="$event.stopPropagation();checkedlist()"
                                (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
                            </mat-checkbox>
                        </td>
                    </ng-container>

                    <!-- action buttons start here -->
                    <ng-container *ngIf="column.columnDef== 'Actions' ">
                        <td mat-cell *matCellDef="let row " data-label="Actions " class="td-cell-center ">
                            <div class="actionbuttonwrapper">
                                <div class="button_div_custom_cls">

                                    <!-- loader -->

                                    <section class="example-section example-section-button-1 ">
                                        <mat-progress-bar *ngIf="loaderrow!=null && loaderrow==row._id "
                                            class="example-margin " [color]="color " [mode]="mode " [value]="value "
                                            [bufferValue]="bufferValue ">
                                        </mat-progress-bar>
                                    </section>

                                    <!-- note block -->
                                    <ng-container *ngIf="libdataval.notes!=null ">
                                        <button mat-raised-button color="primary" class="notebtncls"
                                            matBadgeColor="warn" matBadge="{{row.notescount}}"
                                            matTooltip="{{libdataval?.notes?.tooltip }}" (click)="opennotes(row)">
                                            <span class="notelabelc"> {{libdataval.notes.label }}</span>
                                            <!-- <span class="notebracket1">(</span> -->
                                            <!-- <span class="notecountc"  matBadgeColor="warn" matBadge="{{row.notescount}}"></span> -->
                                            <!-- <span class="notebracket2">)</span> -->
                                        </button>
                                    </ng-container>

                                    <!--custom buttions block -->

                                    <ng-container
                                        *ngIf="libdataval !=null && libdataval.custombuttons !=null && libdataval.custombuttons.length>0 ">
                                        <ng-container
                                            *ngFor="let custombutton of libdataval.custombuttons; let cb=index">
                                            <section class="custombutton{{cb}} {{custombutton?.classname}}">
                                                <ng-container
                                                    *ngIf="custombutton.type=='listner' && (custombutton.cond==null  || (row[custombutton.cond]==custombutton.condval) ) ">
                                                    <!-- ss {{row['status']}} -->
                                                    <button mat-raised-button color="primary"
                                                        matTooltip="{{custombutton?.tooltip }}"
                                                        matTooltipClass="listnertooltipcls"
                                                        (click)="custombuttonlistner(row,custombutton)">{{custombutton.label
                                                        }}</button>
                                                </ng-container>

                                                <ng-container *ngIf="custombutton.type=='externallink'">
                                                    <ng-container
                                                        *ngIf="custombutton.param==null && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">
                                                        <a target="_blank" href="{{custombutton.link}}">
                                                            <button mat-raised-button
                                                                matTooltipClass="externallinktooltipcls"
                                                                matTooltip="{{custombutton?.tooltip}}"
                                                                color="primary">{{custombutton.label}}</button>
                                                        </a>
                                                    </ng-container>

                                                    <ng-container
                                                        *ngIf="custombutton.param!=null && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">

                                                        <button mat-raised-button color="primary"
                                                            matTooltip="{{custombutton?.tooltip }}"
                                                            matTooltipClass="parambtntooltipcls"
                                                            (click)="openextlinkwithparam(custombutton,row)">{{custombutton.label
                                                            }}</button>

                                                    </ng-container>

                                                </ng-container>
                                                <ng-container *ngIf="custombutton.type=='internallink'">
                                                    <ng-container
                                                        *ngIf="custombutton.toggle == null && custombutton.param==null && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">
                                                        <button mat-raised-button color="primary"
                                                            matTooltip="{{custombutton?.tooltip }}"
                                                            (click)="openinternallink(custombutton)">{{custombutton.label
                                                            }}</button>
                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="custombutton.toggle != null && custombutton.toggle == 'delete' && custombutton.toggle!=null && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">
                                                        <button mat-raised-button color="primary"
                                                            (click)="deletedata(row)">{{custombutton.label}}</button>
                                                    </ng-container>

                                                    <ng-container
                                                        *ngIf="custombutton.param!=null && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">

                                                        <button mat-raised-button color="primary"
                                                            matTooltip="{{custombutton?.tooltip }}"
                                                            (click)="openinternallinkwithparam(custombutton,row)">{{custombutton.label
                                                            }}</button>

                                                    </ng-container>

                                                </ng-container>
                                                <ng-container *ngIf="custombutton.type=='action'">
                                                    <ng-container
                                                        *ngIf="custombutton.datatype=='local' && custombutton != null && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">
                                                        <button mat-raised-button color="primary"
                                                            matTooltip="{{custombutton?.tooltip }}"
                                                            (click)="opencustombuttonactionlocaldata(custombutton,row)">{{custombutton.label
                                                            }}</button>
                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="custombutton.datatype=='api' && (custombutton.cond==null || row[custombutton.cond]==custombutton.condval )">
                                                        <button mat-raised-button color="primary"
                                                            matTooltip="{{custombutton?.tooltip}}"
                                                            (click)="opencustombuttonactionapidata(custombutton,row)">{{custombutton.label
                                                            }}</button>
                                                    </ng-container>

                                                </ng-container>

                                            </section>

                                        </ng-container>
                                    </ng-container>
                                </div>



                                <span class="actionbuttonwrapperspan"
                                    *ngIf="selection.selected.length==null || selection.selected.length==0">
                                    <span *ngIf="libdataval.hideeditbutton==null || libdataval.hideeditbutton==false"
                                        class="cursor" (click)="editdata(row)">
                                        <i class="material-icons" matTooltip="{{staticTooltip.edit}}">
                                            edit
                                        </i>
                                    </span>

                                    <!--For modern browsers-->
                                    <span
                                        *ngIf="libdataval.hidedeletebutton==null || libdataval.hidedeletebutton==false"
                                        class="cursor" (click)="deletedata(row)">
                                        <i class="material-icons" matTooltip="{{staticTooltip.delete }}">
                                            delete_outline
                                        </i>
                                    </span>

                                    <!--For modern browsers-->
                                    <span *ngIf="libdataval.hideviewbutton==null || libdataval.hideviewbutton==false"
                                        class="cursor" (click)="viewdata(row)">
                                        <i class="material-icons" matTooltip="{{staticTooltip.preview }}">
                                            remove_red_eye
                                        </i>
                                    </span>

                                    <!--For modern browsers-->
                                    <span class="cursor"
                                        *ngIf="libdataval.hidestatustogglebutton==null || libdataval.hidestatustogglebutton==false"
                                        (click)="managestatus(row)">
                                        <i class="material-icons" matTooltip="{{staticTooltip.changeStatus  }}">
                                            toggle_off
                                        </i>
                                    </span>

                                    <span *ngIf="custombuttonval!=null" class="cursor treeclass"
                                        (click)="custombuttonfunc(row)">
                                        <i class="material-icons treeclass"
                                            matTooltip="{{staticTooltip.changeStatus }} ">
                                            toggle_off
                                        </i>
                                    </span>

                                    <!-- hide status toggle with cond-->
                                    <span *ngIf="libdataval?.hidestatustoggle !=null &&libdataval?.hidestatustoggle?.flag != null && libdataval?.hidestatustoggle?.flag==true 
                                    && (row[libdataval.hidestatustoggle.cond] == libdataval.hidestatustoggle.condval )"
                                        class="cursor treeclass" (click)="managestatus(row)">
                                        <i class="material-icons treeclass"
                                            matTooltip="{{libdataval?.hidestatustoggle?.tooltip }}">
                                            toggle_off
                                        </i>
                                    </span>

                                    <!-- artistxp preview start -->
                                    <span *ngIf="previewFlug==true" class="cursor treeclass"
                                        (click)="artistxpPreview(row)">
                                        <i class="material-icons">perm_media</i>
                                    </span>
                                    <!-- artistxp preview end -->

                                </span>
                            </div>
                        </td>
                    </ng-container>




                </ng-container>





                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <tr mat-footer-row *matFooterRowDef="tableFooterColumns" colspan="2"></tr>

            </table>

        </div>

        <!--for pagination -->
        <!-- <div>*ngIf="tableflag!=0"</div>
        <div *ngIf="tableflag!=0"> jio </div> -->

        <mat-card *ngIf="tableflag!=0" class="noFoundText">
            <div class="noFoundTextinner">
                <span>Oops !</span>
                <p>NO Record Found</p>
            </div>
        </mat-card>
        <!-- no record found block  -->
        <ng-container *ngIf="tableflag==0 && !paginationtypeFlag">
            <section class="lib-pager-class">
                <mat-label>
                    Showing {{((limitcondval.pagecount-1)*limitcondval.limit)+1}} To

                    <ng-container
                        *ngIf="date_search_source_countval > ((limitcondval.pagecount)*limitcondval.limit) ||  date_search_source_countval==0">
                        {{(limitcondval.pagecount)*limitcondval.limit}}
                    </ng-container>
                    <ng-container
                        *ngIf="date_search_source_countval!=0 && date_search_source_countval <= ((limitcondval.pagecount)*limitcondval.limit)">
                        {{date_search_source_countval}}
                    </ng-container>



                    of
                    <span *ngIf="date_search_source_countval!=0 "> {{date_search_source_countval}} </span>
                    <span *ngIf="date_search_source_countval==0 "> Many </span>

                </mat-label>
                <span class="pageformfield">
                    <mat-form-field>
                        <mat-label>Page Size</mat-label>
                        <input matInput min="1" [(ngModel)]="limitcondval.limit" type="number" max="100"
                            (ngModelChange)="onFieldChangeforlimit($event)">
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Page No</mat-label>
                        <input matInput min="1" [(ngModel)]="pageChangeValue" (ngModelChange)="onFieldChange($event)"
                            min="1" max="pageCountArray.length" type="number">
                    </mat-form-field>
                </span>
                <span>


                    <span class="material-icons cursor" (click)="paging(-1,'')">
                        skip_previous
                    </span>

                    <span class="material-icons cursor" (click)="paging(1,'')">
                        skip_next
                    </span>
                </span>
                <!-- for pagination in drop down format-->
                <div class="selectpaginationCls" *ngIf="libdataval.selectPagingflag">
                    <mat-label>Show Records per Page</mat-label>
                    <mat-select (selectionChange)="paging($event.value,'selectpaging')"
                        [(ngModel)]="limitcondval.limit">
                        <mat-option *ngFor="let no of pages" [value]="no.val">
                            {{no.name}}
                        </mat-option>
                    </mat-select>
                </div>
            </section>

        </ng-container>


        <!-- new pagination block  -->
        <ng-container *ngIf="paginationtypeFlag && paginationtype==2 && newpagingcountFlag && tableflag==0">
            <div class="paginationwrapper">
                <span class="showingpaginationcls">Showing {{((limitcondval.pagecount-1)*limitcondval.limit)+1}} To
                    <ng-container
                        *ngIf="date_search_source_countval > ((limitcondval.pagecount)*limitcondval.limit) ||  date_search_source_countval==0">
                        {{(limitcondval.pagecount)*limitcondval.limit}}
                    </ng-container>
                    <ng-container
                        *ngIf="date_search_source_countval!=0 && date_search_source_countval <= ((limitcondval.pagecount)*limitcondval.limit)">
                        {{date_search_source_countval}}
                    </ng-container>



                    of
                    <span *ngIf="date_search_source_countval!=0 "> {{date_search_source_countval}} </span>
                    <span *ngIf="date_search_source_countval==0 "> Many </span>

                    Results
                </span>

                <div class="paginationlistcon">
                    <button *ngIf="pageChangeValue>1" mat-raised-button color="primary" class="pagefirst_button"
                        (click)="paging(1,'')" matTooltipClass="pagebtntooltipcls"
                        matTooltip="First Page">First</button>
                    <button *ngIf="pageChangeValue>1" mat-raised-button color="primary" class="pageprev_button"
                        (click)="paging(limitcondval.pagecount-1,'')" matTooltipClass="pagebtntooltipcls"
                        matTooltip="Previous Page">Prev</button>

                    <ng-container *ngFor="let item of pageCountArray;let i=index">
                        <ng-container *ngIf="i<10 && (pageCountArray.length > newcurrentpagingVal+i-1)">

                            <!-- h{{i}}--{{newcurrentpagingVal+i-1}}--{{pageCountArray.length}} -->


                            <!-- <span *ngIf=" (pageCountArray.length - limitcondval.pagecount) < 10" class="pagercls"
                        [ngClass]="{'active': limitcondval.pagecount ===  limitcondval.pagecount+i-9}"
                        (click)="paging(limitcondval.pagecount+i-9 ,'')">
                        <span>
                            
                            {{ limitcondval.pagecount+i-9 }}
                        </span>
                    </span> -->
                            <span class="pagercls"
                                [ngClass]="{'active': newcurrentpagingVal+i === limitcondval.pagecount}"
                                (click)="paging(i+newcurrentpagingVal,'')">
                                <span class="newpagingdatacls">
                                    {{ i+newcurrentpagingVal }}
                                </span>
                            </span>
                        </ng-container>


                    </ng-container>
                    <mat-label class="gotopagecls">Go to Page:</mat-label>
                    <input type="number" [(ngModel)]="pageChangeValue" (ngModelChange)="onFieldChange($event)" min="1"
                        max="{{lastpageCountArray}}">
                    of {{lastpageCountArray}} Pages
                    <button *ngIf="pageChangeValue!=lastpageCountArray" mat-raised-button color="primary"
                        class="pagenext_button" (click)="paging(limitcondval.pagecount+1,'')"
                        matTooltipClass="pagebtntooltipcls" matTooltip="Next Page">Next</button>

                    <button *ngIf="pageChangeValue!=lastpageCountArray" mat-raised-button color="primary"
                        class="pagelast_button" (click)="paging(lastpageCountArray,'')"
                        matTooltipClass="pagebtntooltipcls" matTooltip="Last Page">Last</button>
                </div>
            </div>
        </ng-container>
        <section *ngIf="loading == true" class="example-section">
            <mat-progress-bar class="example-margin" [color]="color" [mode]="mode" [value]="value"
                [bufferValue]="bufferValue">
            </mat-progress-bar>
            <br />
            <br />
        </section>


    </mat-card>



</div>
<!-- <div>{{ startDate111 }}</div>
<mat-form-field>
    <input matInput [matDatepicker]="picker1" placeholder="From Date" [(ngModel)]="startDate111">
    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
    <mat-datepicker  #picker1></mat-datepicker>
</mat-form-field> -->

<!-- <div>After Translet the word test is : {{"test" | languageTranslet}}</div> -->
<!-- <div>{{"test"}}</div> -->
<!-- <div>
    <span>{{"Her knowledge of publishing trends, literary history, and books of every description and genre, however, filled rooms" | languageTranslet}}</span>
    <br>
    <span>{{"It is authorized to decide all cases of every description, arising under the constitution or laws of the United States" | languageTranslet}}</span>
    <br>
    <span>{{"For example, he wanted to be a member of as many clubs - of any description - as possible" |languageTranslet}}</span>
    <br>
    <span>{{"Academic excellence was matched with extra-curricular activities of every description - from drama through sport to foreign travel" | languageTranslet}}</span>
    <br>
    <span>{{"Superb apple pie with sultanas and cloves, interspersed with crusty bread sandwiches of every description" |languageTranslet}}</span>
    <br>
    <span>{{"being at least one used to indicate that a logical proposition is asserted only of a subclass or certain members of the class denoted by the term which it modifies." | languageTranslet}}</span>
    <br>
    <span>{{"When some is used to modify a number, it is almost always a round number" | languageTranslet}}</span>
    <br>
    <span>{{"Middle English som, adjective & pronoun, from Old English sum; akin to Old High German sum some, Greek ham somehow, homos same" | languageTranslet}}</span>
    <br>
    <span>{{"causing a specified feeling or condition" | languageTranslet}}</span>
    <span>
        {{ "The assessments of the autonomic nervous system, endothelial function, and Ankle-Brachial Index (ABI) are well-recognized tests to detect early complications in diabetic patients  diabetic neuropathy risk, cardiovascular risk, and peripheral artery disease. These assessments are recommended by the U.S. and International Medical Associations. Unfortunately, most of these assessments or exams are not routinely performed in daily clinical practice because of concerns about complex procedures, time consumption, and a high level of difficulty in reading and/or interpreting exam reports." | languageTranslet }}
    </span>
    <br>


    
    <span>
        {{ "Our ANS testing medical device platform eliminates these concerns by offering an innovative medical device that provides physicians with new and easy to use tools that simplify complex procedures, significantly reduces the time required by technicians to perform the exams, and offers easy to read and interpret exam reports with clinical guidance support which is backed by studies and peer reviews. Lastly, our most recent innovation includes wireless transmission to increase patient and technician comfort." | languageTranslet }}
    </span>
</div> -->